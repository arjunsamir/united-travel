"use strict";
Object.defineProperty($3e733c965eb8ecd759f560e301d609e8$exports, "__esModule", {
    value: true
});
$3e733c965eb8ecd759f560e301d609e8$exports.default = void 0;
import   "3e733c965eb8ecd759f560e301d609e8:gsap";
var $3e733c965eb8ecd759f560e301d609e8$var$_gsap = $3e733c965eb8ecd759f560e301d609e8$var$_interopRequireDefault($3e733c965eb8ecd759f560e301d609e8$import$a68c99996323679b);
function $3e733c965eb8ecd759f560e301d609e8$var$_interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
class $3e733c965eb8ecd759f560e301d609e8$var$Preloader {
    init() {
        $(document).on('readystatechange', ()=>{
            this.pageState = document.readyState;
            if (this.pageState == 'complete') this.onPageLoad();
        });
        return this;
    }
    onPageLoad() {
        // 1. Fire Before Events
        this.fire('before'); // 2. Create Timeline 
        const tl = $3e733c965eb8ecd759f560e301d609e8$var$_gsap.default.timeline(gsapDefaults); // 3. Add Load Complete Class
        this.preloader.addClass('load-complete'); // 4. Fade Out Logo
        tl.to(this.preloader.children('.preloader__content').e(), {
            opacity: 0,
            duration: 0.75,
            delay: 0.5
        }); // 5. Fade Out Preloader
        tl.to(this.preloader.e(), {
            opacity: 0,
            duration: 0.5
        }); // 6. Subscribe To Completed Animation Callback
        tl.eventCallback('onComplete', ()=>this.onComplete()
        );
    }
    onComplete() {
        // 1. Execute Callback Functions
        this.fire('after'); // 2. Remove Preloader Element
        $.delay(500).then(()=>{
            if (this.preloader) this.preloader.remove();
            this.preloader = null;
        });
    }
    subscribe(event, callback) {
        this.callbacks.push({
            event: event,
            callback: callback
        });
    }
    fire(event) {
        this.callbacks.forEach((item)=>{
            if (item.event === event) item.callback();
        });
    }
    after(callback) {
        this.subscribe('after', callback);
        return this;
    }
    constructor(){
        this.pageState = 'loading';
        this.callbacks = [];
        this.preloader = $('#preloader');
    }
}
$3e733c965eb8ecd759f560e301d609e8$exports.default = $3e733c965eb8ecd759f560e301d609e8$var$Preloader;
