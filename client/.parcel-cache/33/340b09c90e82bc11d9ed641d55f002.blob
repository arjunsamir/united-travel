"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = useOutsideClick;
var _react = require("react");
var _helpers = require("./helpers");
function useOutsideClick(target, onOutsideClick) {
    var isListening = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
    var listener = _react.useCallback(function(event) {
        var targetElement = _helpers.getTarget(target);
        if (_helpers.isDomElement(targetElement) && !targetElement.contains(event.target)) onOutsideClick(event);
    }, [
        target
    ]);
    _react.useEffect(function() {
        if (isListening) {
            document.addEventListener('mousedown', listener);
            document.addEventListener('touchstart', listener);
        }
        return function() {
            document.removeEventListener('mousedown', listener);
            document.removeEventListener('touchstart', listener);
        };
    }, [
        isListening,
        listener
    ]);
}
