var helpers = require("../../../../../../../../../../../usr/local/lib/node_modules/parcel/node_modules/@parcel/transformer-react-refresh-wrap/lib/helpers/helpers.js");
var prevRefreshReg = window.$RefreshReg$;
var prevRefreshSig = window.$RefreshSig$;
helpers.prelude(module);

try {
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _store = require("../../store");
var _Field = _interopRequireDefault(require("../../components/molecules/Field"));
var _DateTimePicker = _interopRequireDefault(require("../../components/organisms/DateTimePicker"));
var _BookingCard = _interopRequireDefault(require("../../components/organisms/BookingCard"));
var _Input = _interopRequireDefault(require("../../components/organisms/Input"));
var _utils = require("../../helpers/utils");
var _axios = _interopRequireDefault(require("axios"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache() {
    if (typeof WeakMap !== "function") return null;
    var cache = new WeakMap();
    _getRequireWildcardCache = function _getRequireWildcardCache1() {
        return cache;
    };
    return cache;
}
function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) return obj;
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") return {
        default: obj
    };
    var cache = _getRequireWildcardCache();
    if (cache && cache.has(obj)) return cache.get(obj);
    var newObj = {
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj)if (Object.prototype.hasOwnProperty.call(obj, key)) {
        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);
        else newObj[key] = obj[key];
    }
    newObj.default = obj;
    if (cache) cache.set(obj, newObj);
    return newObj;
}
// Import Defaults
// Import Context
// Import Atoms
// Import Molecules
// Import Organizms
// Import Utils
// Flight Location Step
const FlightLocation = (_ref)=>{
    let { navigateTo  } = _ref;
    // Create bemify instance
    const bc = _utils.bemify('booking-card'); // Import State & Dispatch
    const { state , dispatch  } = _react.useContext(_store.AppContext); // Create Shortcut
    const { flight  } = state.reservation; // Set Allowed Actions
    const allowed = [
        'previous'
    ]; // Create Local State
    const [error, setError] = _react.useState(false);
    const [airlines, setAirlines] = _react.useState(null); // Fetch Airline Data
    _react.useEffect(()=>{
        const getDropdownData = async ()=>{
            if (airlines) return;
            try {
                const res = await _axios.default('/api/data/airlines');
                setAirlines(res.data);
            } catch (err) {
                setError(true);
            }
        };
        getDropdownData();
    }, []); // Function To Update State
    const updateState = (key, data)=>{
        // Prevent Some Potential Errors
        if (!key) return; // Update Airport Reservation
        dispatch({
            type: "UPDATE_RESERVATION_".concat(key),
            payload: data
        });
    }; // Crreate Rendered Component
    return(/*#__PURE__*/ _react.default.createElement(_BookingCard.default, {
        title: /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, "More ", /*#__PURE__*/ _react.default.createElement("span", null, "flight"), " details"),
        text: "Help us schedule your ride by providing some information about your flight schedule.",
        allowed: allowed,
        showLoader: airlines ? false : true,
        showError: error,
        previous: ()=>{
            navigateTo('flight-location');
        },
        next: ()=>{
            navigateTo('flight-location');
        }
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: bc('fieldset')
    }, /*#__PURE__*/ _react.default.createElement("h4", {
        className: bc('fieldset-title')
    }, "Flight Date & time"), /*#__PURE__*/ _react.default.createElement(_DateTimePicker.default, null)), /*#__PURE__*/ _react.default.createElement("div", {
        className: bc('fieldset')
    }, /*#__PURE__*/ _react.default.createElement("h4", {
        className: bc('fieldset-title')
    }, "Airline Information"))));
};
_c = FlightLocation;
var _default = FlightLocation;
exports.default = _default;
var _c;
$RefreshReg$(_c, "FlightLocation");

  helpers.postlude(module);
} finally {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}